<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="SafeGuard.Mobile.RegisterPage"
             NavigationPage.HasNavigationBar="False"
             Shell.NavBarIsVisible="False">

    <Grid BackgroundColor="{StaticResource AppBackground}">
        <Grid>
            <BoxView Color="{StaticResource PoliceBlue}" CornerRadius="500" 
                     WidthRequest="600" HeightRequest="600" Opacity="0.1"
                     HorizontalOptions="Start" VerticalOptions="Start" TranslationX="-250" TranslationY="-250"/>

            <BoxView Color="{StaticResource EmergencyRed}" CornerRadius="500" 
                     WidthRequest="600" HeightRequest="600" Opacity="0.08"
                     HorizontalOptions="End" VerticalOptions="End" TranslationX="250" TranslationY="250"/>
        </Grid>

        <ScrollView>
            <VerticalStackLayout Spacing="25" Padding="30, 50, 30, 30">

                <VerticalStackLayout Spacing="5">
                    <Label Text="KULLANICI KAYDI" 
                           FontSize="28" 
                           FontAttributes="Bold" 
                           TextColor="White"
                           HorizontalOptions="Center"/>

                    <Label Text="Sisteme yeni kullanıcı tanımlama protokolü" 
                           FontSize="14" 
                           TextColor="#607080" 
                           HorizontalOptions="Center"/>
                </VerticalStackLayout>

                <VerticalStackLayout x:Name="Step1Layout" Spacing="20" IsVisible="True">
                    <Border Style="{StaticResource GlassFrame}">
                        <VerticalStackLayout Spacing="15">
                            <Label Text="KİŞİSEL BİLGİLER" TextColor="{StaticResource PoliceBlue}" FontAttributes="Bold" FontSize="12" Margin="0,0,0,10"/>

                            <VerticalStackLayout Spacing="5">
                                <Label Text="AD SOYAD" TextColor="#607080" FontSize="11" FontAttributes="Bold"/>
                                <Entry x:Name="NameEntry" Placeholder="Tam Adınız" Style="{StaticResource KonseptEntry}"/>
                                <BoxView HeightRequest="1" Color="#304050"/>
                            </VerticalStackLayout>

                            <VerticalStackLayout Spacing="5">
                                <Label Text="E-POSTA ADRESİ" TextColor="#607080" FontSize="11" FontAttributes="Bold"/>
                                <Entry x:Name="EmailEntry" Keyboard="Email" Placeholder="ornek@mail.com" Style="{StaticResource KonseptEntry}"/>
                                <BoxView HeightRequest="1" Color="#304050"/>
                            </VerticalStackLayout>

                            <VerticalStackLayout Spacing="5">
                                <Label Text="TELEFON NO" TextColor="#607080" FontSize="11" FontAttributes="Bold"/>
                                <Entry x:Name="PhoneEntry" Keyboard="Telephone" Placeholder="05XX XXX XX XX" Style="{StaticResource KonseptEntry}"/>
                                <BoxView HeightRequest="1" Color="#304050"/>
                            </VerticalStackLayout>

                            <VerticalStackLayout Spacing="5">
                                <Label Text="GÜVENLİK ŞİFRESİ" TextColor="#607080" FontSize="11" FontAttributes="Bold"/>
                                <Entry x:Name="PasswordEntry" IsPassword="True" Placeholder="******" Style="{StaticResource KonseptEntry}"/>
                                <BoxView HeightRequest="1" Color="#304050"/>
                            </VerticalStackLayout>
                        </VerticalStackLayout>
                    </Border>

                    <Button Text="SONRAKİ ADIMA GEÇ ➔" 
                            Style="{StaticResource EmergencyButtonStyle}"
                            BackgroundColor="{StaticResource PoliceBlue}"
                            Clicked="OnNextStepClicked"/>
                </VerticalStackLayout>

                <VerticalStackLayout x:Name="Step2Layout" Spacing="20" IsVisible="False">
                    <Border Style="{StaticResource GlassFrame}">
                        <VerticalStackLayout Spacing="15">
                            <Label Text="SAĞLIK BİLGİLERİ" TextColor="{StaticResource EmergencyRed}" FontAttributes="Bold" FontSize="12" Margin="0,0,0,10"/>

                            <VerticalStackLayout Spacing="5">
                                <Label Text="KAN GRUBU" TextColor="#607080" FontSize="11" FontAttributes="Bold"/>

                                <Border Stroke="#3A3A3C" StrokeThickness="1" BackgroundColor="Transparent" Padding="10,0" HeightRequest="50">
                                    <Border.StrokeShape>
                                        <RoundRectangle CornerRadius="10"/>
                                    </Border.StrokeShape>

                                    <Picker x:Name="BloodTypePicker" 
                            Title="Seçiniz" 
                            TitleColor="#607080"
                            TextColor="White">
                                        <Picker.ItemsSource>
                                            <x:Array Type="{x:Type x:String}">
                                                <x:String>A Rh+</x:String>
                                                <x:String>A Rh-</x:String>
                                                <x:String>B Rh+</x:String>
                                                <x:String>B Rh-</x:String>
                                                <x:String>AB Rh+</x:String>
                                                <x:String>AB Rh-</x:String>
                                                <x:String>0 Rh+</x:String>
                                                <x:String>0 Rh-</x:String>
                                            </x:Array>
                                        </Picker.ItemsSource>
                                    </Picker>
                                </Border>
                            </VerticalStackLayout>

                            <VerticalStackLayout Spacing="10">
                                <Label Text="ALIŞKANLIKLAR" TextColor="#607080" FontSize="11" FontAttributes="Bold"/>

                                <HorizontalStackLayout Spacing="20">
                                    <Label Text="Sigara:" TextColor="White" VerticalOptions="Center" WidthRequest="60"/>
                                    <RadioButton x:Name="SmokeYes" Content="Var" GroupName="Smoke" TextColor="White"/>
                                    <RadioButton x:Name="SmokeNo" Content="Yok" GroupName="Smoke" IsChecked="True" TextColor="White"/>
                                </HorizontalStackLayout>

                                <HorizontalStackLayout Spacing="20">
                                    <Label Text="Alkol:" TextColor="White" VerticalOptions="Center" WidthRequest="60"/>
                                    <RadioButton x:Name="AlcoholYes" Content="Var" GroupName="Alcohol" TextColor="White"/>
                                    <RadioButton x:Name="AlcoholNo" Content="Yok" GroupName="Alcohol" IsChecked="True" TextColor="White"/>
                                </HorizontalStackLayout>
                            </VerticalStackLayout>

                            <VerticalStackLayout Spacing="5">
                                <Label Text="ALERJENLER" TextColor="#607080" FontSize="11" FontAttributes="Bold"/>
                                <Entry x:Name="AllergiesEntry" Placeholder="İlaç veya Gıda Alerjileri" Style="{StaticResource KonseptEntry}"/>
                                <BoxView HeightRequest="1" Color="#304050"/>
                            </VerticalStackLayout>

                            <VerticalStackLayout Spacing="5">
                                <Label Text="GEÇİRİLEN HASTALIKLAR" TextColor="#607080" FontSize="11" FontAttributes="Bold"/>
                                <Entry x:Name="DiseasesEntry" Placeholder="Kronik Rahatsızlıklar" Style="{StaticResource KonseptEntry}"/>
                                <BoxView HeightRequest="1" Color="#304050"/>
                            </VerticalStackLayout>

                            <VerticalStackLayout Spacing="5">
                                <Label Text="GEÇİRİLEN AMELİYATLAR" TextColor="#607080" FontSize="11" FontAttributes="Bold"/>
                                <Entry x:Name="SurgeriesEntry" Placeholder="Önemli Operasyonlar" Style="{StaticResource KonseptEntry}"/>
                                <BoxView HeightRequest="1" Color="#304050"/>
                            </VerticalStackLayout>

                        </VerticalStackLayout>
                    </Border>

                    <Button x:Name="RegisterBtn" Text="KAYDI TAMAMLA" Style="{StaticResource EmergencyButtonStyle}" Clicked="OnRegisterClicked"/>
                    <Button Text="⬅ GERİ DÖN" BackgroundColor="Transparent" TextColor="Gray" FontSize="12" Clicked="OnBackStepClicked"/>
                </VerticalStackLayout>

                <ActivityIndicator x:Name="LoadingSpinner" IsRunning="False" Color="{StaticResource EmergencyRed}"/>

                <Label Text="Zaten üye misiniz? Giriş Yapın" 
                       TextColor="{StaticResource EmergencyRed}" 
                       FontAttributes="Bold"
                       HorizontalOptions="Center" 
                       FontSize="14"
                       TextDecorations="Underline"
                       Margin="0,0,0,20">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnLoginTapped"/>
                    </Label.GestureRecognizers>
                </Label>

            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>