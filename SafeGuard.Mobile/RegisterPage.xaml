<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="SafeGuard.Mobile.RegisterPage"
             NavigationPage.HasNavigationBar="False"
             Shell.NavBarIsVisible="False">

    <Grid BackgroundColor="{StaticResource AppBackground}">
        <Grid>
            <BoxView Color="{StaticResource PoliceBlue}" CornerRadius="500" 
                     WidthRequest="600" HeightRequest="600" Opacity="0.1"
                     HorizontalOptions="Start" VerticalOptions="Start" TranslationX="-250" TranslationY="-250"/>

            <BoxView Color="{StaticResource EmergencyRed}" CornerRadius="500" 
                     WidthRequest="600" HeightRequest="600" Opacity="0.08"
                     HorizontalOptions="End" VerticalOptions="End" TranslationX="250" TranslationY="250"/>
        </Grid>

        <ScrollView>
            <VerticalStackLayout Spacing="25" Padding="30, 50, 30, 30">

                <VerticalStackLayout Spacing="5">
                    <Label Text="KULLANICI KAYDI" 
                           FontSize="28" 
                           FontAttributes="Bold" 
                           TextColor="White"
                           HorizontalOptions="Center"/>

                    <Label Text="Sisteme yeni kullanÄ±cÄ± tanÄ±mlama protokolÃ¼" 
                           FontSize="14" 
                           TextColor="#607080" 
                           HorizontalOptions="Center"/>
                </VerticalStackLayout>

                <VerticalStackLayout x:Name="Step1Layout" Spacing="20" IsVisible="True">
                    <Border Style="{StaticResource GlassFrame}">
                        <VerticalStackLayout Spacing="15">
                            <Label Text="KÄ°ÅžÄ°SEL BÄ°LGÄ°LER" TextColor="{StaticResource PoliceBlue}" FontAttributes="Bold" FontSize="12" Margin="0,0,0,10"/>

                            <VerticalStackLayout Spacing="5">
                                <Label Text="AD SOYAD" TextColor="#607080" FontSize="11" FontAttributes="Bold"/>
                                <Entry x:Name="NameEntry" Placeholder="Tam AdÄ±nÄ±z" Style="{StaticResource KonseptEntry}"/>
                                <BoxView HeightRequest="1" Color="#304050"/>
                            </VerticalStackLayout>

                            <VerticalStackLayout Spacing="5">
                                <Label Text="E-POSTA ADRESÄ°" TextColor="#607080" FontSize="11" FontAttributes="Bold"/>
                                <Entry x:Name="EmailEntry" Keyboard="Email" Placeholder="ornek@mail.com" Style="{StaticResource KonseptEntry}"/>
                                <BoxView HeightRequest="1" Color="#304050"/>
                            </VerticalStackLayout>

                            <VerticalStackLayout Spacing="5">
                                <Label Text="TELEFON NO" TextColor="#607080" FontSize="11" FontAttributes="Bold"/>
                                <Entry x:Name="PhoneEntry" Keyboard="Telephone" Placeholder="05XX XXX XX XX" Style="{StaticResource KonseptEntry}"/>
                                <BoxView HeightRequest="1" Color="#304050"/>
                            </VerticalStackLayout>

                            <VerticalStackLayout Spacing="5">
                                <Label Text="GÃœVENLÄ°K ÅžÄ°FRESÄ°" TextColor="#607080" FontSize="11" FontAttributes="Bold"/>
                                <Entry x:Name="PasswordEntry" IsPassword="True" Placeholder="******" Style="{StaticResource KonseptEntry}"/>
                                <BoxView HeightRequest="1" Color="#304050"/>
                            </VerticalStackLayout>
                            <VerticalStackLayout Spacing="15" Margin="0,10,0,10">

                                <Border StrokeThickness="0" BackgroundColor="#F0F0F0" Padding="15,0" HeightRequest="50">
                                    <Border.StrokeShape>
                                        <RoundRectangle CornerRadius="10"/>
                                    </Border.StrokeShape>

                                    <Grid ColumnDefinitions="*, Auto">
                                        <DatePicker x:Name="BirthDatePicker" 
                        Format="dd/MM/yyyy" 
                        TextColor="Black" 
                        BackgroundColor="Transparent"
                        VerticalOptions="Center" 
                        Grid.Column="0"/>
                                        <Label Text="ðŸ“…" VerticalOptions="Center" Grid.Column="1" Margin="0,0,5,0" FontSize="18"/>
                                    </Grid>
                                </Border>

                            </VerticalStackLayout>
                        </VerticalStackLayout>
                    </Border>

                    <Button Text="SONRAKÄ° ADIMA GEÃ‡ âž”" 
                            Style="{StaticResource EmergencyButtonStyle}"
                            BackgroundColor="{StaticResource PoliceBlue}"
                            Clicked="OnNextStepClicked"/>
                </VerticalStackLayout>

                <VerticalStackLayout x:Name="Step2Layout" Spacing="20" IsVisible="False">
                    <Border Style="{StaticResource GlassFrame}">
                        <VerticalStackLayout Spacing="15">
                            <Label Text="SAÄžLIK BÄ°LGÄ°LERÄ°" TextColor="{StaticResource EmergencyRed}" FontAttributes="Bold" FontSize="12" Margin="0,0,0,10"/>

                            <VerticalStackLayout Spacing="5">
                                <Label Text="KAN GRUBU" TextColor="White" FontSize="11" FontAttributes="Bold"/>

                                <Border Stroke="#3A3A3C" StrokeThickness="1" BackgroundColor="Transparent" Padding="10,0" HeightRequest="50">
                                    <Border.StrokeShape>
                                        <RoundRectangle CornerRadius="10"/>
                                    </Border.StrokeShape>

                                    <Picker x:Name="BloodTypePicker" 
                            Title="SeÃ§iniz" 
                            TitleColor="#607080"
                            TextColor="White">
                                        <Picker.ItemsSource>
                                            <x:Array Type="{x:Type x:String}">
                                                <x:String>A Rh+</x:String>
                                                <x:String>A Rh-</x:String>
                                                <x:String>B Rh+</x:String>
                                                <x:String>B Rh-</x:String>
                                                <x:String>AB Rh+</x:String>
                                                <x:String>AB Rh-</x:String>
                                                <x:String>0 Rh+</x:String>
                                                <x:String>0 Rh-</x:String>
                                            </x:Array>
                                        </Picker.ItemsSource>
                                    </Picker>
                                </Border>
                            </VerticalStackLayout>

                            <VerticalStackLayout Spacing="10">
                                <Label Text="ALIÅžKANLIKLAR" TextColor="White" FontSize="11" FontAttributes="Bold"/>

                                <HorizontalStackLayout Spacing="20">
                                    <Label Text="Sigara:" TextColor="White" VerticalOptions="Center" WidthRequest="60"/>
                                    <RadioButton x:Name="SmokeYes" Content="Var" GroupName="Smoke" TextColor="White"/>
                                    <RadioButton x:Name="SmokeNo" Content="Yok" GroupName="Smoke" IsChecked="True" TextColor="White"/>
                                </HorizontalStackLayout>

                                <HorizontalStackLayout Spacing="20">
                                    <Label Text="Alkol:" TextColor="White" VerticalOptions="Center" WidthRequest="60"/>
                                    <RadioButton x:Name="AlcoholYes" Content="Var" GroupName="Alcohol" TextColor="White"/>
                                    <RadioButton x:Name="AlcoholNo" Content="Yok" GroupName="Alcohol" IsChecked="True" TextColor="White"/>
                                </HorizontalStackLayout>
                            </VerticalStackLayout>
                            <Label Text="Organ Nakli / BaÄŸÄ±ÅŸÄ± Durumu" TextColor="White" FontSize="12" Margin="0,10,0,0"/>
                            <Picker x:Name="OrganStatusPicker" 
        Title="SeÃ§iniz" 
        TitleColor="#607080"
        TextColor="White" 
        SelectedIndexChanged="OnOrganStatusChanged">
                                <Picker.Items>
                                    <x:String>Yok</x:String>
                                    <x:String>Nakil AldÄ±m (AlÄ±cÄ±)</x:String>
                                    <x:String>Organ BaÄŸÄ±ÅŸladÄ±m (Verici)</x:String>
                                </Picker.Items>
                            </Picker>

                            <Entry x:Name="OrganDetailsEntry" 
       Placeholder="Hangi organ? (Ã–rn: BÃ¶brek)" 
       TextColor="White" 
       IsVisible="False"/>
                            <VerticalStackLayout Spacing="5">
                                <Label Text="ALERJENLER" TextColor="White" FontSize="11" FontAttributes="Bold"/>
                                <Entry x:Name="AllergiesEntry" Placeholder="Ä°laÃ§ veya GÄ±da Alerjileri" Style="{StaticResource KonseptEntry}"/>
                                <BoxView HeightRequest="1" Color="#304050"/>
                            </VerticalStackLayout>

                            <VerticalStackLayout Spacing="5">
                                <Label Text="GEÃ‡Ä°RÄ°LEN HASTALIKLAR" TextColor="White" FontSize="11" FontAttributes="Bold"/>
                                <Entry x:Name="DiseasesEntry" Placeholder="Kronik RahatsÄ±zlÄ±klar" Style="{StaticResource KonseptEntry}"/>
                                <BoxView HeightRequest="1" Color="#304050"/>
                            </VerticalStackLayout>

                            <VerticalStackLayout Spacing="5">
                                <Label Text="GEÃ‡Ä°RÄ°LEN AMELÄ°YATLAR" TextColor="White" FontSize="11" FontAttributes="Bold"/>
                                <Entry x:Name="SurgeriesEntry" Placeholder="Ã–nemli Operasyonlar" Style="{StaticResource KonseptEntry}"/>
                                <BoxView HeightRequest="1" Color="#304050"/>
                            </VerticalStackLayout>

                        </VerticalStackLayout>
                    </Border>

                    <Button x:Name="RegisterBtn" Text="KAYDI TAMAMLA" Style="{StaticResource EmergencyButtonStyle}" Clicked="OnRegisterClicked"/>
                    <Button Text="â¬… GERÄ° DÃ–N" BackgroundColor="Transparent" TextColor="Gray" FontSize="12" Clicked="OnBackStepClicked"/>
                </VerticalStackLayout>

                <ActivityIndicator x:Name="LoadingSpinner" IsRunning="False" Color="{StaticResource EmergencyRed}"/>

                <Label Text="Zaten Ã¼ye misiniz? GiriÅŸ YapÄ±n" 
                       TextColor="{StaticResource EmergencyRed}" 
                       FontAttributes="Bold"
                       HorizontalOptions="Center" 
                       FontSize="14"
                       TextDecorations="Underline"
                       Margin="0,0,0,20">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnLoginTapped"/>
                    </Label.GestureRecognizers>
                </Label>

            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>